!function(t){var r={};function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var i in t)e.d(n,i,function(r){return t[r]}.bind(null,i));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=4)}([function(t,r,e){"use strict";function n(t){if(Array.isArray(t)){for(var r=0,e=Array(t.length);r<t.length;r++)e[r]=t[r];return e}return Array.from(t)}t.exports=function(t){var r=[];return Array.isArray(t)?r.push.apply(r,n(t)):"Collection"===t.constructor.name?r.push.apply(r,n(t.all())):Object.keys(t).forEach(function(e){return r.push(t[e])}),r}},function(t,r,e){"use strict";t.exports=function(t,r){try{return r.split(".").reduce(function(t,r){return t[r]},t)}catch(t){return null}}},function(t,r,e){"use strict";t.exports=function(t){return Array.isArray(t[0])?t[0]:t}},function(t,r,e){"use strict";t.exports=function(t){return void 0===t?this.sum()/this.items.length:new this.constructor(this.items).pluck(t).sum()/this.items.length}},function(t,r,e){t.exports=e(5)},function(t,r,e){var n=e(6);t.exports=window.CCTV=function(t){var r="fill",e=n(),i=n([[1,1],[2,2],[3,3],[4,4]]),o=[0,0],s=0,u={},c=t("<style></style>").appendTo(t(document.head)),f=t(".matrix");function a(t){this.setOption(t||{}),this.init()}var h=a.prototype;function p(e,n,i){if(null!=e.player&&null!=e.originalWidth&&null!=e.originalHeight){var o=t(e.player.el_);if(null==n||null==i){var s=e.container;n=s.width(),i=s.height()}switch(r){case"fill":var u=n/e.originalWidth,c=i/e.originalHeight;o.css({width:e.originalWidth,height:e.originalHeight,transform:"scale3d("+u+","+c+",1)","transform-origin":"0 0"});break;case"contain":default:o.css({width:n,height:i,transform:"","transform-origin":""})}}}function y(){var t=[];i.map(function(r){var e=Math.abs(r[0]*r[1]),n=".matrix.matrix-"+r[0]+"-"+r[1]+" > article:nth-child";0===e||(1===e?t.push(n+"(1) {display: initial;height:100%;flex:0 0 100%;border:0 none}"):(t.push(n+"(-n+"+e+") {display:initial;height:"+100/r[1]+"%;flex: 0 0 "+100/r[0]+"%}"),t.push(n+"("+r[0]+"n+1) {border-left-width: 0}"),t.push(n+"(-n+"+r[0]+") {border-top-width: 0}")))}),c.text(t.join("\n"))}function l(t){return e.get(t)}function m(t){var r=null,n=e.where("ID",t);return n.count()?r=n.first():(n=e.where("sources",t)).count()&&(r=n.first()),r}function v(t){return t>0?i.first(function(r){return r[0]*r[1]>=t})||i.last():[0,0]}function d(){for(var r=i.last(),n=r[0]*r[1]-e.count(),o=0;o<n;o++){var s=t('<article class="screen"><button type="button" class="reload fa fa-refresh"></button><button type="button" class="remove fa fa-times"></button></article>');f.append(s),e.push({ID:null,container:s,sources:null,player:null,originalWidth:null,originalHeight:null})}}return h.init=function(){var r=this;y(),d(),t(window).on("resize",this.resizeScreens.bind(this)),f.on("click",".reload",function(){r.reload(t(this).parent().find(":eq(0)").attr("id"))}).on("click",".remove",function(){r.remove(t(this).parent().find(":eq(0)").attr("id"))})},h.switchPlayerSize=function(t){r=["fill","contain"].indexOf(t)>-1?t:"contain",this.resizeScreens()},h.addToScreen=function(r,n){if(r&&!e.where("sources",r).count()){this.removeFromScreen(n),n.sources=r,n.ID="screen_"+Math.random().toString(36).substr(2);var i=t('<video id="'+n.ID+'" class="video-js" autoplay><source src="'+n.sources+'" type="application/x-mpegURL"></video>');n.container.prepend(i),n.container.addClass("screen-actived"),n.player=videojs(i.get(0)),n.player.one("play",function(){n.originalWidth=t(this.el_).width(),n.originalHeight=t(this.el_).height(),p(n)}),this.reflexMatrix(),this.dispatch("added",[n])}},h.addToFreeScreen=function(t){this.addToScreen(t,e.where("sources",null).first())},h.addToScreenNo=function(t,r){this.addToScreen(t,l(r))},h.add=h.addToFreeScreen,h.removeFromScreen=function(t){null!=t.player&&(this.dispatch("remove",[t]),t.container.removeClass("screen-actived"),t.player.dispose(),t.player=null,t.sources=null,t.ID=null,this.reflexMatrix())},h.removeFromScreenByNo=function(t){this.removeFromScreen(l(t))},h.remove=function(t){this.removeFromScreen(m(t))},h.reload=function(r,e){var n=m(r);null!=n&&(null!=e&&(n.sources=e),n.player.pause(),n.player.src({type:"application/x-mpegURL",src:n.sources}),n.player.load(),n.player.play(),n.player.one("play",function(){screen.originalWidth=t(this.el_).width(),screen.originalHeight=t(this.el_).height(),p(n)}))},h.clear=function(){},h.reMatrix=function(t){if(0!==t){var r=i.all().indexOf(o),e=i.count()-1;if(t>0)-1===r?r=-1:r===e&&(r=e-1),o=i.get(r+1);else if(t<0)if(r<1)o=[0,0];else{o=i.get(r-1);var n=v(s);o[0]*o[1]<n[0]*n[1]&&(o=n)}f.attr("class","matrix matrix-"+o.join("-")),this.resizeScreens()}},h.reflexMatrix=function(){s=function(){var t=-1;return e.last(function(r,e){if(null!==r.player)return t=e,!0}),t}()+1,o=v(s),f.attr("class","matrix matrix-"+o.join("-")),this.resizeScreens()},h.resizeScreens=function(){if(s>0&&o[0]*o[1]>0){var t=f.find("> article:eq(0)"),r=t.width(),n=t.height();e.each(function(t){p(t,r,n)})}},h.on=function(t,r){"function"==typeof r&&(u.hasOwnProperty(t)?u[t].push(r):u[t]=[r])},h.dispatch=function(t,r,e){u.hasOwnProperty(t)&&u[t].length>0&&u[t].forEach(function(t){t.apply(e||this,r)}.bind(this))},h.setOption=function(r){r.hasOwnProperty("matrix")&&t.isArray(r.matrix)&&(i=n(r.matrix))},h.resetMatrix=function(r){t.isArray(r)&&r.length>0&&(i=n(r),y(),d(),this.reflexMatrix())},new a}(jQuery)},function(t,r,e){"use strict";function n(t){this.items=t||[]}var i=e(7);"undefined"!=typeof Symbol&&(n.prototype[Symbol.iterator]=i),n.prototype.all=e(8),n.prototype.average=e(3),n.prototype.avg=e(3),n.prototype.chunk=e(9),n.prototype.collapse=e(10),n.prototype.combine=e(11),n.prototype.concat=e(12),n.prototype.contains=e(13),n.prototype.count=e(14),n.prototype.crossJoin=e(15),n.prototype.dd=e(16),n.prototype.diff=e(18),n.prototype.diffAssoc=e(19),n.prototype.diffKeys=e(20),n.prototype.dump=e(21),n.prototype.each=e(22),n.prototype.eachSpread=e(23),n.prototype.every=e(24),n.prototype.except=e(25),n.prototype.filter=e(26),n.prototype.first=e(27),n.prototype.firstWhere=e(28),n.prototype.flatMap=e(29),n.prototype.flatten=e(30),n.prototype.flip=e(31),n.prototype.forPage=e(32),n.prototype.forget=e(33),n.prototype.get=e(34),n.prototype.groupBy=e(35),n.prototype.has=e(36),n.prototype.implode=e(37),n.prototype.intersect=e(38),n.prototype.intersectByKeys=e(39),n.prototype.isEmpty=e(40),n.prototype.isNotEmpty=e(41),n.prototype.keyBy=e(42),n.prototype.keys=e(43),n.prototype.last=e(44),n.prototype.macro=e(45),n.prototype.map=e(46),n.prototype.mapSpread=e(47),n.prototype.mapToDictionary=e(48),n.prototype.mapInto=e(49),n.prototype.mapToGroups=e(50),n.prototype.mapWithKeys=e(51),n.prototype.max=e(52),n.prototype.median=e(53),n.prototype.merge=e(54),n.prototype.min=e(55),n.prototype.mode=e(56),n.prototype.nth=e(57),n.prototype.only=e(58),n.prototype.pad=e(59),n.prototype.partition=e(61),n.prototype.pipe=e(62),n.prototype.pluck=e(63),n.prototype.pop=e(64),n.prototype.prepend=e(65),n.prototype.pull=e(66),n.prototype.push=e(67),n.prototype.put=e(68),n.prototype.random=e(69),n.prototype.reduce=e(70),n.prototype.reject=e(71),n.prototype.reverse=e(72),n.prototype.search=e(73),n.prototype.shift=e(74),n.prototype.shuffle=e(75),n.prototype.slice=e(76),n.prototype.sort=e(77),n.prototype.sortBy=e(78),n.prototype.sortByDesc=e(79),n.prototype.splice=e(80),n.prototype.split=e(81),n.prototype.sum=e(82),n.prototype.take=e(83),n.prototype.tap=e(84),n.prototype.times=e(85),n.prototype.toArray=e(86),n.prototype.toJson=e(87),n.prototype.transform=e(88),n.prototype.unless=e(89),n.prototype.union=e(90),n.prototype.unique=e(91),n.prototype.unwrap=e(92),n.prototype.values=e(93),n.prototype.when=e(94),n.prototype.where=e(95),n.prototype.whereIn=e(96),n.prototype.whereNotIn=e(97),n.prototype.wrap=e(98),n.prototype.zip=e(99);var o=function(t){return new n(t)};t.exports=o,t.exports.default=o},function(t,r,e){"use strict";t.exports=function(){var t=this,r=-1;return{next:function(){return r+=1,{value:t.items[r],done:r>=t.items.length}}}}},function(t,r,e){"use strict";t.exports=function(){return this.items}},function(t,r,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var r=this,e=[],i=0;if(Array.isArray(this.items))do{var o=this.items.slice(i,i+t),s=new this.constructor(o);e.push(s),i+=t}while(i<this.items.length);else if("object"===n(this.items)){var u=Object.keys(this.items),c=function(){var n=u.slice(i,i+t),o=new r.constructor({});n.forEach(function(t){return o.put(t,r.items[t])}),e.push(o),i+=t};do{c()}while(i<u.length)}else e.push(new this.constructor([this.items]));return new this.constructor(e)}},function(t,r,e){"use strict";t.exports=function(){var t;return new this.constructor((t=[]).concat.apply(t,function(t){if(Array.isArray(t)){for(var r=0,e=Array(t.length);r<t.length;r++)e[r]=t[r];return e}return Array.from(t)}(this.items)))}},function(t,r,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var r=this,e=t;e instanceof this.constructor&&(e=t.all());var i={};return Array.isArray(this.items)&&Array.isArray(e)?this.items.forEach(function(t,r){i[t]=e[r]}):"object"===n(this.items)&&"object"===(void 0===e?"undefined":n(e))?Object.keys(this.items).forEach(function(t,n){i[r.items[t]]=e[Object.keys(e)[n]]}):Array.isArray(this.items)?i[this.items[0]]=e:"string"==typeof this.items&&Array.isArray(e)?i[this.items]=e[0]:"string"==typeof this.items&&(i[this.items]=e),new this.constructor(i)}},function(t,r,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var r=this,e=t;return t instanceof this.constructor?e=t.all():"object"===(void 0===t?"undefined":n(t))&&(e=[],Object.keys(t).forEach(function(r){e.push(t[r])})),e.forEach(function(t){"object"===(void 0===t?"undefined":n(t))?Object.keys(t).forEach(function(e){return r.items.push(t[e])}):r.items.push(t)}),this}},function(t,r,e){"use strict";var n=e(0);t.exports=function(t,r){if(void 0!==r)return Array.isArray(this.items)?this.items.filter(function(e){return void 0!==e[t]&&e[t]===r}).length>0:void 0!==this.items[t]&&this.items[t]===r;if("function"==typeof t)return this.items.filter(function(r,e){return t(r,e)}).length>0;if(Array.isArray(this.items))return-1!==this.items.indexOf(t);var e=n(this.items);return e.push.apply(e,function(t){if(Array.isArray(t)){for(var r=0,e=Array(t.length);r<t.length;r++)e[r]=t[r];return e}return Array.from(t)}(Object.keys(this.items))),-1!==e.indexOf(t)}},function(t,r,e){"use strict";t.exports=function(){return Array.isArray(this.items)?this.items.length:Object.keys(this.items).length}},function(t,r,e){"use strict";t.exports=function(){for(var t=arguments.length,r=Array(t),e=0;e<t;e++)r[e]=arguments[e];return new this.constructor(function t(r,e,n){var i=n[0];i instanceof e&&(i=i.all());for(var o=n.slice(1),s=!o.length,u=[],c=0;c<i.length;c+=1){var f=r.slice();f.push(i[c]),s?u.push(f):u=u.concat(t(f,e,o))}return u}([],this.constructor,[].concat([this.items],r)))}},function(t,r,e){"use strict";(function(r){t.exports=function(){this.dump(),void 0!==r&&r.exit(1)}}).call(this,e(17))},function(t,r){var e,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var c,f=[],a=!1,h=-1;function p(){a&&c&&(a=!1,c.length?f=c.concat(f):h=-1,f.length&&y())}function y(){if(!a){var t=u(p);a=!0;for(var r=f.length;r;){for(c=f,f=[];++h<r;)c&&c[h].run();h=-1,r=f.length}c=null,a=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(r){try{return n.call(null,t)}catch(r){return n.call(this,t)}}}(t)}}function l(t,r){this.fun=t,this.array=r}function m(){}i.nextTick=function(t){var r=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)r[e-1]=arguments[e];f.push(new l(t,r)),1!==f.length||a||u(y)},l.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,r,e){"use strict";t.exports=function(t){var r=void 0;r=t instanceof this.constructor?t.all():t;var e=this.items.filter(function(t){return-1===r.indexOf(t)});return new this.constructor(e)}},function(t,r,e){"use strict";t.exports=function(t){var r=this,e=t;t instanceof this.constructor&&(e=t.all());var n={};return Object.keys(this.items).forEach(function(t){void 0!==e[t]&&e[t]===r.items[t]||(n[t]=r.items[t])}),new this.constructor(n)}},function(t,r,e){"use strict";t.exports=function(t){var r=void 0;r=t instanceof this.constructor?t.all():t;var e=Object.keys(r),n=Object.keys(this.items).filter(function(t){return-1===e.indexOf(t)});return new this.constructor(this.items).only(n)}},function(t,r,e){"use strict";t.exports=function(){return console.log(this),this}},function(t,r,e){"use strict";t.exports=function(t){var r=this;return Array.isArray(this.items)?this.items.forEach(t):Object.keys(this.items).forEach(function(e){t(r.items[e],e,r.items)}),this}},function(t,r,e){"use strict";t.exports=function(t){return this.each(function(r,e){t.apply(void 0,function(t){if(Array.isArray(t)){for(var r=0,e=Array(t.length);r<t.length;r++)e[r]=t[r];return e}return Array.from(t)}(r).concat([e]))}),this}},function(t,r,e){"use strict";var n=e(0);t.exports=function(t){return-1===n(this.items).map(function(r,e){return t(r,e)}).indexOf(!1)}},function(t,r,e){"use strict";var n=e(2);t.exports=function(){for(var t=this,r=arguments.length,e=Array(r),i=0;i<r;i++)e[i]=arguments[i];var o=n(e);if(Array.isArray(this.items)){var s=this.items.filter(function(t){return-1===o.indexOf(t)});return new this.constructor(s)}var u={};return Object.keys(this.items).forEach(function(r){-1===o.indexOf(r)&&(u[r]=t.items[r])}),new this.constructor(u)}},function(t,r,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function i(t){if(Array.isArray(t)){if(t.length)return!1}else if(void 0!==t&&null!==t&&"object"===(void 0===t?"undefined":n(t))){if(Object.keys(t).length)return!1}else if(t)return!1;return!0}t.exports=function(t){var r=t||!1,e=null;return e=Array.isArray(this.items)?function(t,r){if(t)return r.filter(t);for(var e=[],n=0;n<r.length;n+=1){var o=r[n];i(o)||e.push(o)}return e}(r,this.items):function(t,r){var e={};return Object.keys(r).forEach(function(n){t?t(r[n],n)&&(e[n]=r[n]):i(r[n])||(e[n]=r[n])}),e}(r,this.items),new this.constructor(e)}},function(t,r,e){"use strict";t.exports=function(t,r){if("function"==typeof t){for(var e=0,n=this.items.length;e<n;e+=1){var i=this.items[e];if(t(i))return i}return"function"==typeof r?r():r}if(Array.isArray(this.items)&&this.items.length||Object.keys(this.items).length){if(Array.isArray(this.items))return this.items[0];var o=Object.keys(this.items)[0];return this.items[o]}return"function"==typeof r?r():r}},function(t,r,e){"use strict";t.exports=function(t,r){return this.where(t,r).first()||null}},function(t,r,e){"use strict";t.exports=function(t){var r=[];return this.items.forEach(function(e,n){var i=Object.keys(e),o=[];i.forEach(function(t){o.push(e[t])});var s=t(o,n),u={};i.forEach(function(t,r){u[t]=s[r]}),r.push(u)}),new this.constructor(Object.assign.apply(Object,r))}},function(t,r,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var r=t||1/0,e=!1,i=[],o=function(t){i=[],Array.isArray(t)?t.forEach(function(t){"string"==typeof t?i.push(t):Array.isArray(t)?i=i.concat(t):Object.keys(t).forEach(function(r){i=i.concat(t[r])})}):Object.keys(t).forEach(function(r){"string"==typeof t[r]?i.push(t[r]):Array.isArray(t[r])?i=i.concat(t[r]):Object.keys(t).forEach(function(r){i=i.concat(t[r])})}),e=0===(e=i.filter(function(t){return"object"===(void 0===t?"undefined":n(t))})).length,r-=1};for(o(this.items);!e&&r>0;)o(i);return new this.constructor(i)}},function(t,r,e){"use strict";t.exports=function(){var t=this,r={};return Array.isArray(this.items)?Object.keys(this.items).forEach(function(e){r[t.items[e]]=Number(e)}):Object.keys(this.items).forEach(function(e){r[t.items[e]]=e}),new this.constructor(r)}},function(t,r,e){"use strict";t.exports=function(t,r){var e=this,n={};return Array.isArray(this.items)?n=this.items.slice(t*r-r,t*r):Object.keys(this.items).slice(t*r-r,t*r).forEach(function(t){n[t]=e.items[t]}),new this.constructor(n)}},function(t,r,e){"use strict";t.exports=function(t){return Array.isArray(this.items)?this.items.splice(t,1):delete this.items[t],this}},function(t,r,e){"use strict";t.exports=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return void 0!==this.items[t]?this.items[t]:"function"==typeof r?r():null!==r?r:null}},function(t,r,e){"use strict";t.exports=function(t){var r=this,e={};return this.items.forEach(function(n,i){var o=void 0;o="function"==typeof t?t(n,i):n[t]||"",void 0===e[o]&&(e[o]=new r.constructor([])),e[o].push(n)}),new this.constructor(e)}},function(t,r,e){"use strict";var n=e(2);t.exports=function(){for(var t=this,r=arguments.length,e=Array(r),i=0;i<r;i++)e[i]=arguments[i];var o=n(e);return o.filter(function(r){return t.items[r]}).length===o.length}},function(t,r,e){"use strict";t.exports=function(t,r){return void 0===r?this.items.join(t):new this.constructor(this.items).pluck(t).all().join(r)}},function(t,r,e){"use strict";t.exports=function(t){var r=t;t instanceof this.constructor&&(r=t.all());var e=this.items.filter(function(t){return-1!==r.indexOf(t)});return new this.constructor(e)}},function(t,r,e){"use strict";t.exports=function(t){var r=this,e=Object.keys(t);t instanceof this.constructor&&(e=Object.keys(t.all()));var n={};return Object.keys(this.items).forEach(function(t){-1!==e.indexOf(t)&&(n[t]=r.items[t])}),new this.constructor(n)}},function(t,r,e){"use strict";t.exports=function(){return!this.items.length}},function(t,r,e){"use strict";t.exports=function(){return!!this.items.length}},function(t,r,e){"use strict";t.exports=function(t){var r={};return"function"==typeof t?this.items.forEach(function(e){r[t(e)]=e}):this.items.forEach(function(e){r[e[t]||""]=e}),new this.constructor(r)}},function(t,r,e){"use strict";t.exports=function(){var t=Object.keys(this.items);return Array.isArray(this.items)&&(t=t.map(Number)),new this.constructor(t)}},function(t,r,e){"use strict";t.exports=function(t,r){var e=this.items;if("function"==typeof t&&(e=this.filter(t).all()),Array.isArray(e)&&!e.length||!Object.keys(e).length)return"function"==typeof r?r():r;if(Array.isArray(e))return e[e.length-1];var n=Object.keys(e);return e[n[n.length-1]]}},function(t,r,e){"use strict";t.exports=function(t,r){this.constructor.prototype[t]=r}},function(t,r,e){"use strict";t.exports=function(t){var r=this;if(Array.isArray(this.items))return new this.constructor(this.items.map(t));var e={};return Object.keys(this.items).forEach(function(n){e[n]=t(r.items[n],n)}),new this.constructor(e)}},function(t,r,e){"use strict";t.exports=function(t){return this.map(function(r,e){return t.apply(void 0,function(t){if(Array.isArray(t)){for(var r=0,e=Array(t.length);r<t.length;r++)e[r]=t[r];return e}return Array.from(t)}(r).concat([e]))})}},function(t,r,e){"use strict";var n=function(){return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,r){var e=[],n=!0,i=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(n=(s=u.next()).done)&&(e.push(s.value),!r||e.length!==r);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return e}(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.exports=function(t){var r={};return this.items.forEach(function(e,i){var o=t(e,i),s=n(o,2),u=s[0],c=s[1];void 0===r[u]?r[u]=[c]:r[u].push(c)}),new this.constructor(r)}},function(t,r,e){"use strict";t.exports=function(t){return this.map(function(r,e){return new t(r,e)})}},function(t,r,e){"use strict";var n=function(){return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,r){var e=[],n=!0,i=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(n=(s=u.next()).done)&&(e.push(s.value),!r||e.length!==r);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return e}(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.exports=function(t){var r={};return this.items.forEach(function(e,i){var o=t(e,i),s=n(o,2),u=s[0],c=s[1];void 0===r[u]?r[u]=[c]:r[u].push(c)}),new this.constructor(r)}},function(t,r,e){"use strict";var n=function(){return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,r){var e=[],n=!0,i=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(n=(s=u.next()).done)&&(e.push(s.value),!r||e.length!==r);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return e}(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.exports=function(t){var r=this,e={};return Array.isArray(this.items)?this.items.forEach(function(r){var i=t(r),o=n(i,2),s=o[0],u=o[1];e[s]=u}):Object.keys(this.items).forEach(function(i){var o=t(r.items[i]),s=n(o,2),u=s[0],c=s[1];e[u]=c}),new this.constructor(e)}},function(t,r,e){"use strict";function n(t){if(Array.isArray(t)){for(var r=0,e=Array(t.length);r<t.length;r++)e[r]=t[r];return e}return Array.from(t)}t.exports=function(t){return"string"==typeof t?Math.max.apply(Math,n(this.pluck(t).all())):Math.max.apply(Math,n(this.items))}},function(t,r,e){"use strict";t.exports=function(t){var r=this.items.length;return void 0===t?r%2==0?(this.items[r/2-1]+this.items[r/2])/2:this.items[Math.floor(r/2)]:r%2==0?(this.items[r/2-1][t]+this.items[r/2][t])/2:this.items[Math.floor(r/2)][t]}},function(t,r,e){"use strict";t.exports=function(t){var r=t;if("string"==typeof r&&(r=[r]),Array.isArray(this.items)&&Array.isArray(r))return new this.constructor(this.items.concat(r));var e=JSON.parse(JSON.stringify(this.items));return Object.keys(r).forEach(function(t){e[t]=r[t]}),new this.constructor(e)}},function(t,r,e){"use strict";function n(t){if(Array.isArray(t)){for(var r=0,e=Array(t.length);r<t.length;r++)e[r]=t[r];return e}return Array.from(t)}t.exports=function(t){return void 0!==t?Math.min.apply(Math,n(this.pluck(t).all())):Math.min.apply(Math,n(this.items))}},function(t,r,e){"use strict";t.exports=function(t){var r=[],e=1;return this.items.length?(this.items.forEach(function(n){var i=r.filter(function(r){return void 0!==t?r.key===n[t]:r.key===n});if(i.length){i[0].count+=1;var o=i[0].count;o>e&&(e=o)}else void 0!==t?r.push({key:n[t],count:1}):r.push({key:n,count:1})}),r.filter(function(t){return t.count===e}).map(function(t){return t.key})):null}},function(t,r,e){"use strict";var n=e(0);t.exports=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=n(this.items).slice(r).filter(function(r,e){return e%t==0});return new this.constructor(e)}},function(t,r,e){"use strict";var n=e(2);t.exports=function(){for(var t=this,r=arguments.length,e=Array(r),i=0;i<r;i++)e[i]=arguments[i];var o=n(e);if(Array.isArray(this.items)){var s=this.items.filter(function(t){return-1!==o.indexOf(t)});return new this.constructor(s)}var u={};return Object.keys(this.items).forEach(function(r){-1!==o.indexOf(r)&&(u[r]=t.items[r])}),new this.constructor(u)}},function(t,r,e){"use strict";var n=e(60);t.exports=function(t,r){var e=Math.abs(t),i=this.count();if(e<=i)return this;for(var o=e-i,s=n(this.items),u=Array.isArray(this.items),c=t<0,f=0;f<o;)u?c?s.unshift(r):s.push(r):void 0!==s[f]?o+=1:s[f]=r,f+=1;return new this.constructor(s)}},function(t,r,e){"use strict";t.exports=function(t){var r,e=void 0;Array.isArray(t)?(r=e=[]).push.apply(r,function(t){if(Array.isArray(t)){for(var r=0,e=Array(t.length);r<t.length;r++)e[r]=t[r];return e}return Array.from(t)}(t)):(e={},Object.keys(t).forEach(function(r){e[r]=t[r]}));return e}},function(t,r,e){"use strict";t.exports=function(t){var r=this,e=void 0;return Array.isArray(this.items)?(e=[new this.constructor([]),new this.constructor([])],this.items.forEach(function(r){!0===t(r)?e[0].push(r):e[1].push(r)})):(e=[new this.constructor({}),new this.constructor({})],Object.keys(this.items).forEach(function(n){var i=r.items[n];!0===t(i)?e[0].put(n,i):e[1].put(n,i)})),new this.constructor(e)}},function(t,r,e){"use strict";t.exports=function(t){return t(this)}},function(t,r,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=e(1);t.exports=function(t,r){if(-1!==t.indexOf("*")){var e=function(t){var r={};return t.forEach(function(t,e){!function t(e,i){"object"===(void 0===e?"undefined":n(e))&&Object.keys(e).forEach(function(r){t(e[r],i+"."+r)}),r[i]=e}(t,e)}),r}(this.items),o=[];if(void 0!==r){var s=new RegExp("0."+r,"g"),u=("0."+r).split(".").length;Object.keys(e).forEach(function(t){var r=t.match(s);if(r){var n=r[0];n.split(".").length===u&&o.push(e[n])}})}var c=[],f=new RegExp("0."+t,"g"),a=("0."+t).split(".").length;if(Object.keys(e).forEach(function(t){var r=t.match(f);if(r){var n=r[0];n.split(".").length===a&&c.push(e[n])}}),void 0!==r){var h={};return this.items.forEach(function(t,r){h[o[r]||""]=c}),new this.constructor(h)}return new this.constructor([c])}if(void 0!==r){var p={};return this.items.forEach(function(e){void 0!==i(e,t)?p[e[r]||""]=i(e,t):p[e[r]||""]=null}),new this.constructor(p)}return this.map(function(r){return void 0!==i(r,t)?i(r,t):null})}},function(t,r,e){"use strict";t.exports=function(){if(Array.isArray(this.items))return this.items.pop();var t=Object.keys(this.items),r=t[t.length-1],e=this.items[r];return delete this.items[r],e}},function(t,r,e){"use strict";t.exports=function(t,r){return void 0!==r?this.put(r,t):(this.items.unshift(t),this)}},function(t,r,e){"use strict";t.exports=function(t,r){var e=this.items[t]||null;return e||void 0===r||(e="function"==typeof r?r():r),delete this.items[t],e}},function(t,r,e){"use strict";t.exports=function(){var t;return(t=this.items).push.apply(t,arguments),this}},function(t,r,e){"use strict";t.exports=function(t,r){return this.items[t]=r,this}},function(t,r,e){"use strict";var n=e(0);t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=n(this.items),e=new this.constructor(r).shuffle();return 1===t?e.first():e.take(t)}},function(t,r,e){"use strict";t.exports=function(t,r){var e=this,n=null;return void 0!==r&&(n=r),Array.isArray(this.items)?this.items.forEach(function(r){n=t(n,r)}):Object.keys(this.items).forEach(function(r){n=t(n,e.items[r],r)}),n}},function(t,r,e){"use strict";t.exports=function(t){return new this.constructor(this.items.filter(function(r){return!t(r)}))}},function(t,r,e){"use strict";t.exports=function(){var t=[].concat(this.items).reverse();return new this.constructor(t)}},function(t,r,e){"use strict";t.exports=function(t,r){var e=this,n=t;"function"==typeof t&&(n=this.items.filter(function(r,e){return t(r,e)})[0]);var i=!1;if(!Array.isArray(this.items))return Object.keys(this.items).filter(function(t){return!0===r?e.items[t]===n:e.items[t]===Number(n)||e.items[t]===n.toString()})[0]||!1;var o=this.items.filter(function(t){return!0===r?t===n:t===Number(n)||t===n.toString()})[0];return-1!==(i=this.items.indexOf(o))&&i}},function(t,r,e){"use strict";t.exports=function(){if(Array.isArray(this.items))return this.items.shift();var t=Object.keys(this.items)[0],r=this.items[t]||null;return delete this.items[t],r}},function(t,r,e){"use strict";var n=e(0);t.exports=function(){var t=n(this.items),r=void 0,e=void 0,i=void 0;for(i=t.length;i;i-=1)r=Math.floor(Math.random()*i),e=t[i-1],t[i-1]=t[r],t[r]=e;return this.items=t,this}},function(t,r,e){"use strict";t.exports=function(t,r){var e=this.items.slice(t);return void 0!==r&&(e=e.slice(0,r)),new this.constructor(e)}},function(t,r,e){"use strict";t.exports=function(t){var r=[].concat(this.items);return void 0===t?this.every(function(t){return"number"==typeof t})?r.sort(function(t,r){return t-r}):r.sort():r.sort(t),new this.constructor(r)}},function(t,r,e){"use strict";t.exports=function(t){var r=[].concat(this.items);return"function"==typeof t?r.sort(function(r,e){return t(r)<t(e)?-1:t(r)>t(e)?1:0}):r.sort(function(r,e){return r[t]<e[t]?-1:r[t]>e[t]?1:0}),new this.constructor(r)}},function(t,r,e){"use strict";t.exports=function(t){return this.sortBy(t).reverse()}},function(t,r,e){"use strict";t.exports=function(t,r,e){var n=this.slice(t,r);if(this.items=this.diff(n.all()).all(),Array.isArray(e))for(var i=0,o=e.length;i<o;i+=1)this.items.splice(t+i,0,e[i]);return n}},function(t,r,e){"use strict";t.exports=function(t){for(var r=Math.round(this.items.length/t),e=JSON.parse(JSON.stringify(this.items)),n=[],i=0;i<t;i+=1)n.push(new this.constructor(e.splice(0,r)));return new this.constructor(n)}},function(t,r,e){"use strict";t.exports=function(t){var r=0;if(void 0===t)for(var e=0,n=this.items.length;e<n;e+=1)r+=this.items[e];else if("function"==typeof t)for(var i=0,o=this.items.length;i<o;i+=1)r+=t(this.items[i]);else for(var s=0,u=this.items.length;s<u;s+=1)r+=this.items[s][t];return r}},function(t,r,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var r=this;if(!Array.isArray(this.items)&&"object"===n(this.items)){var e=Object.keys(this.items),i=void 0;i=t<0?e.slice(t):e.slice(0,t);var o={};return e.forEach(function(t){-1!==i.indexOf(t)&&(o[t]=r.items[t])}),new this.constructor(o)}return t<0?new this.constructor(this.items.slice(t)):new this.constructor(this.items.slice(0,t))}},function(t,r,e){"use strict";t.exports=function(t){return t(this),this}},function(t,r,e){"use strict";t.exports=function(t,r){for(var e=1;e<=t;e+=1)this.items.push(r(e));return this}},function(t,r,e){"use strict";t.exports=function(){var t=this.constructor;if(Array.isArray(this.items)){var r=[];return this.items.forEach(function(e){!function r(e,n){var i=[];e instanceof t?(e.items.forEach(function(t){return r(t,i)}),n.push(i)):Array.isArray(e)?(e.forEach(function(t){return r(t,i)}),n.push(i)):n.push(e)}(e,r)}),r}return this.values().all()}},function(t,r,e){"use strict";t.exports=function(){return JSON.stringify(this.toArray())}},function(t,r,e){"use strict";t.exports=function(t){var r=this;if(Array.isArray(this.items))this.items=this.items.map(t);else{var e={};Object.keys(this.items).forEach(function(n){e[n]=t(r.items[n],n)}),this.items=e}return this}},function(t,r,e){"use strict";t.exports=function(t,r,e){t?e(this):r(this)}},function(t,r,e){"use strict";t.exports=function(t){var r=this,e=JSON.parse(JSON.stringify(this.items));return Object.keys(t).forEach(function(n){void 0===r.items[n]&&(e[n]=t[n])}),new this.constructor(e)}},function(t,r,e){"use strict";t.exports=function(t){var r=void 0;if(void 0===t)r=this.items.filter(function(t,r,e){return e.indexOf(t)===r});else{r=[];for(var e=[],n=0,i=this.items.length;n<i;n+=1){var o=void 0;o="function"==typeof t?t(this.items[n]):this.items[n][t],-1===e.indexOf(o)&&(r.push(this.items[n]),e.push(o))}}return new this.constructor(r)}},function(t,r,e){"use strict";t.exports=function(t){return t instanceof this.constructor?t.all():t}},function(t,r,e){"use strict";t.exports=function(){var t=this,r=[];return Object.keys(this.items).forEach(function(e){r.push(t.items[e])}),new this.constructor(r)}},function(t,r,e){"use strict";t.exports=function(t,r,e){t?r(this):e(this)}},function(t,r,e){"use strict";var n=e(0),i=e(1);t.exports=function(t,r,e){var o=r,s=e;void 0===e&&(s=r,o="===");var u=n(this.items).filter(function(r){switch(o){case"==":return i(r,t)===Number(s)||i(r,t)===s.toString();default:case"===":return i(r,t)===s;case"!=":case"<>":return i(r,t)!==Number(s)&&i(r,t)!==s.toString();case"!==":return i(r,t)!==s;case"<":return i(r,t)<s;case"<=":return i(r,t)<=s;case">":return i(r,t)>s;case">=":return i(r,t)>=s}});return new this.constructor(u)}},function(t,r,e){"use strict";var n=e(0),i=e(1);t.exports=function(t,r){var e=n(r),o=this.items.filter(function(r){return-1!==e.indexOf(i(r,t))});return new this.constructor(o)}},function(t,r,e){"use strict";var n=e(0),i=e(1);t.exports=function(t,r){var e=n(r),o=this.items.filter(function(r){return-1===e.indexOf(i(r,t))});return new this.constructor(o)}},function(t,r,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return t instanceof this.constructor?t:"object"===(void 0===t?"undefined":n(t))?new this.constructor(t):new this.constructor([t])}},function(t,r,e){"use strict";t.exports=function(t){var r=this,e=t;e instanceof this.constructor&&(e=e.all());var n=this.items.map(function(t,n){return new r.constructor([t,e[n]])});return new this.constructor(n)}}]);