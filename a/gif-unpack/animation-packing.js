(()=>{"use strict";var t={414:(t,e,r)=>{var n=r(380),i=r(339);t.exports={atob:n,btoa:i}},380:t=>{t.exports=function(t){if((t=(t="".concat(t)).replace(/[ \t\n\f\r]/g,"")).length%4==0&&(t=t.replace(/==?$/,"")),t.length%4==1||/[^+/0-9A-Za-z]/.test(t))return null;for(var e="",r=0,n=0,i=0;i<t.length;i++)r<<=6,r|=(o=t[i],/[A-Z]/.test(o)?o.charCodeAt(0)-"A".charCodeAt(0):/[a-z]/.test(o)?o.charCodeAt(0)-"a".charCodeAt(0)+26:/[0-9]/.test(o)?o.charCodeAt(0)-"0".charCodeAt(0)+52:"+"===o?62:"/"===o?63:void 0),24===(n+=6)&&(e+=String.fromCharCode((16711680&r)>>16),e+=String.fromCharCode((65280&r)>>8),e+=String.fromCharCode(255&r),r=n=0);var o;return 12===n?(r>>=4,e+=String.fromCharCode(r)):18===n&&(r>>=2,e+=String.fromCharCode((65280&r)>>8),e+=String.fromCharCode(255&r)),e}},339:t=>{t.exports=function(t){var e;for(t="".concat(t),e=0;e<t.length;e++)if(t.charCodeAt(e)>255)return null;var r,n="";for(e=0;e<t.length;e+=3){var i=[void 0,void 0,void 0,void 0];i[0]=t.charCodeAt(e)>>2,i[1]=(3&t.charCodeAt(e))<<4,t.length>e+1&&(i[1]|=t.charCodeAt(e+1)>>4,i[2]=(15&t.charCodeAt(e+1))<<2),t.length>e+2&&(i[2]|=t.charCodeAt(e+2)>>6,i[3]=63&t.charCodeAt(e+2));for(var o=0;o<i.length;o++)void 0===i[o]?n+="=":n+=(r=i[o])<26?String.fromCharCode(r+"A".charCodeAt(0)):r<52?String.fromCharCode(r-26+"a".charCodeAt(0)):r<62?String.fromCharCode(r-52+"0".charCodeAt(0)):62===r?"+":63===r?"/":void 0}return n}}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t=r(414),e=r.n(t),n=null==window?e().atob:window.atob;null==window?e().btoa:window.btoa;const i=function(t,e){for(var r=1<<e-1,n=r+1,i=[],o=[],a=[],s=0;s<r;s++)i[s]=""+(s>>8&15).toString(16)+(s>>4&15).toString(16)+(15&s).toString(16);o[1]=1;for(var h=2;h<13;h++)o[h]=o[h-1]<<1|1;for(var c=e,u=0,f=0,l=0,d=0,p=0;;){for(;l<c;)f|=t[u++]<<l,l+=8;if(d=f&o[c],l-=c,f>>=c,d==n)break;if(d!=r){var g="";if(d<i.length)g=i[d],p!=r&&i.push(i[p]+g.slice(0,3));else{if(!(p<i.length))throw"ERRORï¼šImage data is invalid";g=i[p]+i[p].slice(0,3),i.push(g)}p=d;for(var v=0;v<g.length;v+=3)a.push(parseInt(g.substr(v,3),16));i.length==1<<c&&c<12&&c++}else i.length=r+2,c=e,p=d}return a};function o(t,e,r){return(o=a()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&s(i,r.prototype),i}).apply(null,arguments)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.canvas=document.createElement("canvas"),this.canvas.setAttribute("width",this.data.width),this.canvas.setAttribute("height",this.data.height),this.ctx=this.canvas.getContext("2d"),this.draw(),this.ctx=this.canvas=null}var e,r;return e=t,(r=[{key:"draw",value:function(){var t=this;this.data.frames=this.data.frames.map((function(e){for(var r=e.transparentIndex,n=0;n<e.height;n++)for(var i=0;i<e.width;i++){var o=n*e.width+i,a=e.data[o];if(r!==a){var s=(e.palette||t.data.palette)[a],h=s[0],c=s[1],u=s[2];t.ctx.fillStyle="rgb(".concat(h,",").concat(c,",").concat(u,")"),t.ctx.fillRect(i+e.offsetX,n+e.offsetY,1,1)}}return e.imageData=t.ctx.getImageData(0,0,t.data.width,t.data.height),e.dataUrl=t.canvas.toDataURL("image/png"),e}))}}])&&h(e.prototype,r),t}();function u(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var p=Symbol(),g=Symbol(),v=Symbol();const y=function(){function t(e){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,"_littleEndian",(r=new ArrayBuffer(2),new DataView(r).setInt16(0,256,!0),256===new Int16Array(r)[0])),d(this,"_bytes",void 0),d(this,"_p",0),d(this,"version",void 0),d(this,"frames",[]),d(this,"width",void 0),d(this,"height",void 0),d(this,"colorResolution",void 0),d(this,"sorted",void 0),d(this,"backgroundIndex",void 0),d(this,"pixelAspectRadio",void 0),this.parse(e),function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];o(c,e)}(this),console.log(this)}var e,r;return e=t,(r=[{key:"parse",value:function(t){var e=this;if(this._bytes=this.bytes(t),this._DV=new DataView(this._bytes),this.version=this.creeping(p,6,(function(t){return Array.from(t,(function(t){return String.fromCharCode(t)})).join("")})),!this.isGif(this.version))throw new TypeError("Not GIF given");this.width=this.creeping(g,1),this.height=this.creeping(g,1);var r=this.creeping(p,1);if(this.colorResolution=1+(r>>4&7),this.sorted=!!(8&r),this.backgroundIndex=this.creeping(p,1),this.pixelAspectRadio=this.creeping(p,1),128&r&&(this.palette=Array.apply(void 0,u(Array(1<<this.colorResolution))).map((function(){return e.creeping(p,3,(function(t){return Array.prototype.slice.call(t)}))}))),this.detecting((function(t){return e.getting(p,2,(function(t){return 33===t[0]&&249===t[1]}))})),this.p()===this._bytes.byteLength){if(this.p()===this._bytes.length)throw new Error("Can not find the image data!")}else do{var n={};if(33===this.getting(p,1)){this.p(3);var o=1&this.creeping(p,1);if(n.delay=this.creeping(g,1),1&o?(n.transparentIndex=this.creeping(p,1),this.p(1)):this.p(2),this.detecting((function(){return e.getting(p,1,(function(t){return 44===t[0]}))}),1),this.p()===this._bytes.byteLength)throw new Error("Can not find the image identifier!")}this.p(1),n.offsetX=this.creeping(g,1),n.offsetY=this.creeping(g,1),n.width=this.creeping(g,1),n.height=this.creeping(g,1);var a=this.creeping(p,1);64&a&&(n.interlace=!0),32&a&&(n.sorted=!0),128&a&&(n.colorResolution=1+(7&a),n.palette=Array.apply(void 0,u(Array(1<<n.colorResolution))).map((function(){return e.creeping(p,3,(function(t){return Array.prototype.slice.call(t)}))})));for(var s=this.creeping(p,1,(function(t){return t[0]+1})),h=void 0,c=[];h=this.creeping(p,1);)c=c.concat(Array.prototype.slice.call(this.creeping(p,h)));n.data=i(c,s),this.frames.push(n),this.detecting((function(t){return e.getting(p,2,(function(t){return 33===t[0]&&249===t[1]}))}))}while(this.p()<this._bytes.byteLength)}},{key:"p",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t?(this._p+=t,t):this._p}},{key:"detecting",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.p()<this._bytes.byteLength;this.p(e))try{if(t(this.p()))break}catch(t){this._p=this._bytes.byteLength}}},{key:"getting",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.creeping(t,e,r,!0)}},{key:"creeping",value:function(t,e,r){var n,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.p(),a=[];switch(t){case p:for(n=0;n<e;n++)a.push(this._DV.getUint8(o+n,this._littleEndian));!i&&this.p(n);break;case g:for(n=0;n<e;n+=2)a.push(this._DV.getUint16(o+n,this._littleEndian));!i&&this.p(n);break;case v:for(n=0;n<e;n+=4)a.push(this._DV.getUint32(o+n,this._littleEndian));!i&&this.p(n)}return"function"==typeof r?r(a):1===a.length?a[0]:a}},{key:"bytes",value:function(t){var e=t.indexOf(String.fromCharCode(44));return e>-1&&(t=t.substr(e+1)),function(t){for(var e=n(t),r=e.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=e.charCodeAt(o);return i.buffer}(t)}},{key:"isGif",value:function(t){return/^GIF8[69]a/.test(t)}}])&&l(e.prototype,r),t}();document.querySelector("#file-input").addEventListener("change",(function(t){var e=new FileReader;e.onload=function(t){var e=t.target.result;new y(e).frames.forEach((function(t){var e=new Image;document.body.append(e),e.src=t.dataUrl}))},e.readAsDataURL(t.target.files[0])}),!1)})()})();